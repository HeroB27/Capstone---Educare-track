# Phase 3 v0.0.1 Acceptance Checklist (Teacher + Parent)

Date/Time: 2026-02-04 12:37

Use this as a smoke test list to confirm Phase 3 v0.0.1 is working end-to-end under RLS.

## Setup

- Create at least:
  - 1 Admin
  - 1 Teacher assigned to a class + subjects
  - 1 Parent linked to 1–2 students
- Ensure teacher and parent are using real Supabase Auth accounts and correct `profiles.role`.
- Confirm RLS is enabled and policies are applied for teacher/parent roles.

## Login & Routing

- Login as Teacher redirects to teacher dashboard automatically.
- Login as Parent redirects to parent dashboard automatically.
- Teacher cannot open admin pages; Parent cannot open admin pages.
- Teacher cannot view students outside assigned classes.
- Parent cannot view students not linked to them.

## Teacher — Attendance

- Teacher dashboard loads assigned homeroom + subjects without errors.
- Student list is correct for assigned class(es).
- Real-time status updates when a student tap-in/out occurs.
- Manual override:
  - Updates the correct attendance record for the selected date/subject.
  - Creates an audit trail entry (tap_logs or dedicated override fields).
  - Triggers a notification to the correct parent (late/absent/early exit).

## Teacher — Excuse Letters

- Pending excuse letters list loads for the teacher’s assigned students.
- Teacher can open an excuse attachment (PDF/image) from Storage.
- Approve:
  - Updates excuse status and remarks.
  - Parent receives a notification in real time.
- Reject:
  - Updates status and remarks.
  - Parent receives a notification in real time.

## Teacher — Announcements

- Teacher can create an announcement for a selected class.
- Parents linked to students in that class receive a notification.
- Teacher can view list of previous announcements (and edit/delete if supported).

## Teacher — Clinic Workflow (Minimum)

- Teacher sees clinic pass requests/updates for their students.
- Teacher approval triggers a parent notification.

## Parent — Dashboard

- Parent dashboard lists linked children.
- Each child shows live in/out status (derived from tap logs/current status).
- Attendance calendar renders the month view with color-coded statuses.
- Notifications panel shows recent notifications with correct ordering.

## Parent — Excuse Upload

- Parent can upload PDF/image (size/type validated).
- After submit:
  - File exists in Supabase Storage under correct path.
  - excuse_letters row exists with status=pending and correct student/date/reason.
  - Teacher receives a notification.

## Notifications (Real-time)

- Teacher receives notifications relevant to their assigned class/students only.
- Parent receives notifications relevant to their linked children only.
- Mark-as-read behavior works (if supported).

## PWA (Baseline)

- App is installable (manifest present; icons load).
- Offline reload shows cached shell (not blank); data areas show “offline/last updated” message.

